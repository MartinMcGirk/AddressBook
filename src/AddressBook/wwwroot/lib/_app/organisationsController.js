!function(){"use strict";function n(n,a){var i=this;i.organisations=[],i.newOrganisation={},i.errorMessage="",i.isBusy=!0,n.get("/api/organisations").then(function(n){angular.copy(n.data,i.organisations)},function(n){i.errorMessage="Failed to load data"+n}).finally(function(){i.isBusy=!1}),i.addOrganisation=function(){i.isBusy=!0,i.errorMessage="",n.post("/api/organisations",i.newOrganisation).then(function(n){i.organisations.push(n.data),i.newOrganisation={},a.path("/")},function(){i.errorMessage="Failed to save new organisation"}).finally(function(){i.isBusy=!1})}}n.$inject=["$http","$location"],angular.module("app-organisations").controller("organisationsController",n)}();